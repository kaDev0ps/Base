# Управление виртуализацией

Объединение машин в кластер

1. Увеличение ресурсных мощностей
2. При выходе сервера из строя виртуалка переезжает на другой сервер.
3. На VMWare настраивается vMotion

# Собирать отказоустойчивый кластер

Нужно собирать их 3-5-7 нод. Собирать из нечетного числа и больше 7 смысла нет. Можно создать 7 нод в режиме Мастер, но лидер будет всегда 1.
Node (нода) - Узел сети — устройство, соединённое с другими устройствами как часть компьютерной сети.

# Модель кластера VMWARE

К серверам подключена корзина дисков SAN
На сервер ставится гипервизор (VMWARE ESXI)
Поднимается на каком то хосте ВМ vCenter Server
Через него создаются клиентские ВМ

# Система виртуализации Proxmox основанная на Debian

<!-- Бесплатная, основанна на KVM -->

## Первый вариант

1. Объединяем физические сервера по сети
2. На них развернут гипервизор и ВМ машины ездят из одного зла в другой

## Второй вариант

1. Объединяем физические сервера по сети
2. ISCSI накопитель тоже выводится в сеть через FiberChanell

# Эмуляция на ПК

1. Поднять на ПК 3 KVM с ProxMox
2. Прокинуть ISCSI накопитель

# Система виртуализации Ovirt основанная на CentOS

Схема для изучения:

- Gitlab
- Gitlab CI
- Jenkis
- Nexus - реестр Docker
- Docker SWARM - контейнерная оркестрация Перейти на K3S
- RabbitMQ - БД
- Kafka - БД
- NGINX - Балансировщик нагрузки

## Мониторинг

- Zabbix (устарел уже)
- Kibana
- Grafana
- Prometheus

## Логирование

Kibana
Flueitd
Elasticsearch
LOKI (рекомендуют)

## Service Discovery

Consul
Zookeeper
etcd
Terraform - автоматизация

<!-- ДЗ - утановить кластер из 3 серверов на Proxmox. Выполнить миграцию ВМ и контейнера с одного сервера на другой. -->
