# Etcd

<!-- База данных кластера - хранит всю информацию о кластере
Etcdctl - утилита управления кастером
Можно перенести на отдельные сервера открыть порты 2379 2380
Можно масштабировать увеличивая количество реплик. -->

# API server

Центральный компонент кубера
Единственный, кто общается с etcd
Авторизация и аудентификация

# Логика кубера

1. Пользователь выполняет команду
2. Запрос передается в Kube-API
3. Kube-API передает данные в etcd. Проверить, что передает в etcd можно выполнив describe
4. Получил ответ на запрос от etcd передает данные контроллеру менеджеру

# Контроллер manager

1. Node controller
2. Replicaset controller - количество реплик
3. Endpoints controller - указывают порты в подах на которые пойдет трафик

# Sheduler

Назначает POD на ноды
Qos
Affinity/anti-affinity (на разных узлах приложение работает)
Requested resources

# Kubelet

Работает на каждой ноде
Создает POD
Отдает команды Docker

# Kube proxy

Смотрит в kube-API
Стоит на всех серверах
Управляет сетевыми правилами

# Компоненты кластера

Etcd - БД
Kubelet - создает поды
Controller-manager - обработчик команды
API server - связывает все компоненты и обрабатывает команды пользователя
Scheduler - планировщик задач
Kube-proxy - управляет сетевыми правилами
