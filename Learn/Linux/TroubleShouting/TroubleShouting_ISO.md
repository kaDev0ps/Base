# Сетевые уровни

<!--
5. Приложений (HTTP, FTP, POP3, SMTP,) | Данные
4. Транспортный (TCP, UDP, Порты) | Сегменты
5. Сетевой уровень (IP,ICMP) | Пакеты
6. Канальный (Ethernet, коммутатор, точка доступа wifi) | Биты
7. Физический (USB, RG45) | Биты -->

ss -tuna **набор сокетов в ОС**
ss -tunap **набор сокетов в ОС c процессами**
vi /etc/ssh/sshd_config **можно установить адрес ssh с которого подключаться и порт**
systemctl restart sshd

## Физический

ethtool ens192 **проверяем скорость на физическом уровне**
ethtool -S ens192 **проверяем контрольную сумму полученных пакетов (ищем показатель fcs=0)**
ethtool -m ens192 **проверяем мощность оптическго кабеля и контрольную сумму полученных пакетов (ищем показатель fcs=0)**

## Канальный

ip route list

## Сетевой (Чтение трассировки)

traceroute ya.ru

<!-- Считаются прыжки пообереди от точки А до точки Б, а не в промежуток -->
<!-- Роутеры имеют аппаратную часть и процессор. Некоторые пакеты они обрабатывают на уровне процессора и на это требуется время, поэтому время обработки может нас запустать -->

## Транспортный

В ОС есть процессы. При запуске которых создается сокет
Со́кет — название программного интерфейса для обеспечения обмена данными между процессами.
Для подключению к сокету должен быть открыт порт и IP. Как на уровне клиентской части, так и на уровне серверной. Сокет появляется, когда приложение его запускает.

## Приложений

yum install tcpdump -y
nn- порты вместо названий
i - интерфейс
tcpdump -nni ens192 "not tcp port 22"
ip route get 10.0.20.5 **Проверяем проброс пакетов**
tcpdumb --nni ens192 "host 10.0.20.5" **Проверяем пакеты с указанного хоста по указанному интерфейсу**
