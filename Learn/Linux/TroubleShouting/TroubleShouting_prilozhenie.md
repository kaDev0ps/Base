# Установка приложений

<!-- Установка это распаковка файлов в указаные директории
yum install или apt install решают проблемы с репозиториями
В репозитории хранятся все необходимые пакеты для решения проблем с зависимостями. -->

rpm -qa Просмотр приложений
yum install yum-utils -y
chown :frr /etc/test **Изменение группы для файла**
rpm -Va **Проверка изменений со стандартным набором из репозитория**

## Проверка изменений в директории etc

rpm -qf kdump.conf

<!-- Пишем скрипт для проверки всех файлов: -->

for i in \*; do rpm -qf $i >> /root/rpms; done

<!-- Пройтись циклом по всем значениям и выполнить команду. Результаты сохранить отдельно в файлъ -->
<!-- Удаляем строки у которых нет владельца -->

sed -i '/owned/d' /root/rpms

<!-- Сортируем по алфавиту и удаляем повторение -->

cat /root/rpms | sort | uniq > /root/uniq_rpms
for i in `cat /root/uniq_rmps`; do rpm -V $i >> /root/uniq_rpms; done

M - права
U - владелец
G - группа
S - размер
5 - Хэш
T - время создания
L - ссылки

## Как обновлять файлы

rpm -qf /etc/passwd
rpm -setperms setup2.4noarch

## Как работают приложеня?

<!-- Приложения работают с библиотеками
Существует два пространства: -->

User space
Kernel space (Ядро)

<!-- С помощью системных вызовов (syscall) приложежние запрашивает у ядра различные разрешения
Мы их можем посмотреть командой -->

strace

## Виртуальная память

<!-- Виртуальная память 32ТБ в нее записаны все записи какому приложению сколько надо памяти выделить
Записываются по страницам в 4KB  в виртуальную память -->

yum provides strace
yum install strace.rpm

<!-- Подключаемся к процессу -->

strace -p 2473
yum provides valgrind
valgrind --tool=memcheck ls

<!-- Узнать расположения файла -->

which ping

<!-- посмотреть от каких библиотек зависит ping -->

ldd /usr/bin/ping
